<html>

<head>
    <title>CA1 Revision</title>
    <script>

        /**
         *
         * Exam Breakdown
         * 
         * Part A - 45 Mins - 15%
         * Part B - 45 Mins - 15%
         * 
         * Part A (25 Questions - Answer All)
         * 
         * 23 Short Questions   (Basic JavaScript Concepts)     1 mark each
         * 1 Long Question      (Canvas Functions)              4 marks
         * 1 Long Question      (JavaScript)                    3 marks
         * 
         * Part B (4 Questions - Answer Any 3)
         * 
         * 4 Long Questions     (Problem Based Questions)       15 marks each
         * 
         * 
         * Revision Topics:
         * 
         * Variables
         * Functions
         * Arrays
         * Objects
         * Timers
         * Canvas
         * Mapping
         * Reduce
         * Filter
         * Sort
         * Arrow Functions
         * 
         */

        // Basic Output
        document.write();
        console.log();

        // Create an Unsorted Array
        let unsortedArray = new Array(2, 1, 4, 3);

        // Create a copy of our array
        // We will manipulate this array to see how the
        // sort function works
        let a1 = unsortedArray;

        // Sort the Array (Basic Sort)
        a1.sort();

        document.write("  ---  ");
        document.write(a1);

        // Unsort the Array
        a1 = unsortedArray;

        // Create a Compare Function

        // Our compare function will compare each pair of values in the array.
        // The result of our compare function will determine how each value pair
        // is sorted.

        // For example:

        // If A is bigger than B, then we want to place A after B in our array.
        // To do this, we can simply return any positive number.

        // If A is smaller than B, then we want to place A before B in our array.
        // To do this, we can simply return any negative number.

        // If A and B are equal, then we don't want to sort them.
        // In this case, we can simply return 0.

        // This works because the sort function sorts each pair of values based
        // on whether the number returned from our compare function is positive, 
        // negative, or zero

        // For more information on JavaScript sort functions: 
        // https://www.youtube.com/watch?v=RsFBsBep-hA&ab_channel=FlorinPop

        function compare(a, b) {
            // If a is bigger than b, return a positive number
            if (a > b) return 1;

            // If b is bigger than a, return a negative number
            if (a < b) return -1;

            // If the values are equal, return 0
            return 0;
        }

        // To use our compare function, we can pass it as a parameter to the
        // sort function
        a1.sort(compare);

        document.write("  ---  ");
        document.write(a1);

        // Unsort the Array
        a1 = unsortedArray;

        // Create a better Compare Function
        function quickCompare(a, b) {

            // If A and B are equal, this will return 0
            // If A is bigger than B, a positive number is returned
            // If A is smaller than B, a negative number is returned
            return a - b;

            // How could we change this to sort in descending order?
        }

        // Sort our array using our quick compare function
        a1.sort(quickCompare);

        document.write("  ---  ");
        document.write(a1);

        // Unsort the Array
        a1 = unsortedArray;

        // Replace quickCompare with an Arrow Function
        a1.sort((a, b) => {
            return a - b
        });

        document.write("  ---  ");
        document.write(a1);

        // Unsort the Array
        a1 = unsortedArray;

        // If our arrow function only returns a value, then we can
        // write it using one line
        a1.sort((a, b) => a - b);

        document.write("  ---  ");
        document.write(a1);

        // Unsort the Array
        a1 = unsortedArray;

        // Create a function that allows us to pass a compareFunction
        // as a parameter
        function sortArray(array, compareFn) {

            array.sort(compareFn);
        }

        // Call our sortArray function using an in line arrow function
        sortArray(a1, (a, b) => {
            return a - b;
        });

        document.write("  ---  ");
        document.write(a1);

        // Unsort the Array
        a1 = unsortedArray;

        // Mapping
        // We use mapping when we want to edit each element of an array directly
        // Or when we want to do something with each element in an array

        // Create a Number Array
        let a2 = [1, 2, 3, 4, 5];

        // Double each elememt in our array
        // In this case, a new array will be returned
        // We use this new array to overwrite the value of a2
        a2 = a2.map((el) => el * 2);

        document.write("  ---  ");
        document.write(a2);

        // Halve each element in our array
        a2 = a2.map((el) => el / 2);

        document.write("  ---  ");
        document.write(a2);

        // Square each element in our array
        a2 = a2.map((el) => Math.pow(el, 2));

        document.write("  ---  ");
        document.write(a2);

        // Create an Object Array
        let a3 = [
            {
                name: "J",
                age: 24,
                toString() {
                    return " << " + this.name + " : " + this.age + " >> ";
                }
            },
            {
                name: "K",
                age: 22,
                toString() {
                    return " << " + this.name + " : " + this.age + " >> ";
                }
            },
            {
                name: "J",
                age: 1,
                toString() {
                    return " << " + this.name + " : " + this.age + " >> ";
                }
            }
        ];

        // Use a mapping function to call the toString method of
        // each object in our array
        a3.map((obj) => {
            document.write(obj.toString());
        });

        // Create a Number Array
        let a4 = [
            -10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0,
            1, 2, 3, 4, 5, 6, 7, 8, 9, 10
        ];

        // Filter Even Numbers
        let a4Even = a4.filter((el) => {
            return el % 2 == 0;
        });

        document.write("  ---  ");
        document.write(a4Even);

        // Filter Odd Numbers
        let a4Odd = a4.filter((el) => {
            return el % 2 != 0;
        });

        document.write("  ---  ");
        document.write(a4Odd);

        // Filter Positive Numbers
        let a4Pos = a4.filter((el) => {
            return el > 0;
        });

        document.write("  ---  ");
        document.write(a4Pos);

        // Filter Negative Numbers
        let a4Neg = a4.filter((el) => {
            return el < 0;
        });

        document.write("  ---  ");
        document.write(a4Neg);

        // Create an Object Array
        let a5 = [
            { name: "J", age: 15, toString() { return this.name; } },
            { name: "K", age: 16, toString() { return this.name; } },
            { name: "L", age: 17, toString() { return this.name; } },
            { name: "M", age: 18, toString() { return this.name; } },
            { name: "N", age: 19, toString() { return this.name; } },
            { name: "O", age: 20, toString() { return this.name; } }
        ];

        // Filter adults
        let a5Adult = a5.filter((el) => {
            return el.age >= 18;
        });

        document.write("  ---  ");
        document.write(a5Adult);

        // Create a Number Array
        let a6 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

        // Use a reduce function to sum all of the values in our array
        // Note that we set currTotal to 0 --------------------------------v
        let a6Sum = a6.reduce((currTotal, currVal) => currTotal + currVal, 0);

        document.write("  ---  ");
        document.write(a6Sum);

        // Use a reduce function to determine the largest number in our array
        // Note that we set currMax to 5 ---------------------------------------v
        let a6Max = a6.reduce((currMax, currVal) => Math.max(currMax, currVal), 5);

        document.write("  ---  ");
        document.write(a6Max);

        // Create Object Array
        let a7 = [
            { name: "A", voted: true, toString() { return this.name; } },
            { name: "B", voted: false, toString() { return this.name; } },
            { name: "C", voted: true, toString() { return this.name; } },
            { name: "D", voted: true, toString() { return this.name; } },
            { name: "E", voted: false, toString() { return this.name; } },
            { name: "F", voted: true, toString() { return this.name; } },
            { name: "G", voted: true, toString() { return this.name; } },
            { name: "H", voted: false, toString() { return this.name; } },
            { name: "I", voted: true, toString() { return this.name; } },
            { name: "J", voted: true, toString() { return this.name; } },
            { name: "K", voted: true, toString() { return this.name; } },
        ];

        // Count the numbers of people who voted
        // Note that count is initially set to 0
        let a7Count = a7.reduce((count, curr) => {
            if (curr.voted) count++;

            return count;
        }, 0);

        document.write("  ---  ");
        document.write(a7Count);

        // Iterate over each object in the array
        // Call the toString method of each object
        a7.forEach(obj => {
            document.write("  ---  ");
            document.write(obj.toString());
        });

        // Iterate over each object in the array
        // Note that we also have access to the current index
        a7.forEach((obj, index) => {
            if (obj.voted) {
                document.write("  ---  ");
                document.write("Voter " + (index + 1) + " voted!");
            }
        });

        // For more practice, complete the exercises under the CA1 section on Moodle
    </script>
</head>

<body>

</body>

</html>